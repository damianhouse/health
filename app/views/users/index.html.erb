<p id="notice"><%= notice %></p>

<h1>Listing Users</h1>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Email</th>
      <th>Role</th>
      <th>Coach</th>
      <th>Coach 1</th>
      <th>Coach 2</th>
      <th>Coach 3</th>
      <th>Coach 4</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
      <tr>
        <td><%= @user.name %></td>
        <td><%= @user.email %></td>
        <td><%= @user.role %></td>
        <td><%= @user.coach_id %></td>
        <td><%= @user.coach_1 %></td>
        <td><%= @user.coach_2 %></td>
        <td><%= @user.coach_3 %></td>
        <td><%= @user.coach_4 %></td>
        <td><%= link_to 'Show', @user %></td>
        <td><%= link_to 'Edit', edit_user_path(@user) %></td>
        <td><%= link_to 'Destroy', @user, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
  </tbody>
</table>
<br>

<table>
  <tbody>
<% @user.conversations.each do |convo| %>
  <% if convo.user_id == @user.id %>
<tr>
<td>  <%= convo%> </td>
<td><%= link_to 'Conversation Details', convo %></td>
  <td><%= convo.coach.id %></td>
  <td><%= convo.coach.name %></td>
  <td><%= convo.coach.email %></td>
  <td><%= link_to 'Show', Coach.find(convo.coach.id) %></td>

</tr>
  <% end %>
<% end %>
  </tbody>
</table>








<table>
  <thead>
    <tr>
      <th>id</th>
      <th>Name</th>
      <th>Email</th>
      <th>Role</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
      <tr>
        <td><%= @user.coach.id %></td>
        <td><%= @user.coach.name %></td>
        <td><%= @user.coach.email %></td>
        <td><%= @user.coach.role %></td>
        <td><%= link_to 'Show', @user.coach %></td>
      </tr>

      <% if @user.coach_1 != nil %>
      <tr>
        <td><%= @user.find_coach_1.id %></td>
        <td><%= @user.find_coach_1.name %></td>
        <td><%= @user.find_coach_1.email %></td>
        <td><%= @user.find_coach_1.role %></td>
        <td><%= link_to 'Show', @user.find_coach_1 %></td>
      </tr>
      <% end %>

      <% if @user.coach_2 != nil %>
      <tr>
        <td><%= @user.find_coach_2.id %></td>
        <td><%= @user.find_coach_2.name %></td>
        <td><%= @user.find_coach_2.email %></td>
        <td><%= @user.find_coach_2.role %></td>
        <td><%= link_to 'Show', @user.find_coach_2 %></td>
      </tr>
      <% end %>

      <% if @user.coach_3 != nil %>
      <tr>
        <td><%= @user.find_coach_3.id %></td>
        <td><%= @user.find_coach_3.name %></td>
        <td><%= @user.find_coach_3.email %></td>
        <td><%= @user.find_coach_3.role %></td>
        <td><%= link_to 'Show', @user.find_coach_3 %></td>
      </tr>
      <% end %>

      <% if @user.coach_4 != nil %>
      <tr>
        <td><%= @user.find_coach_4.id %></td>
        <td><%= @user.find_coach_4.name %></td>
        <td><%= @user.find_coach_4.email %></td>
        <td><%= @user.find_coach_4.role %></td>
        <td><%= link_to 'Show', @user.find_coach_4 %></td>
      </tr>
      <% end %>

  </tbody>
</table>
